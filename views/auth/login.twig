{% extends 'auth/layout.twig' %}

{% block title %}Login | Template Admin{% endblock %}

{% block content %}
<div class="login-box">
    <div class="login-logo">
        <a href="/login"><b>Template</b> Admin</a>
    </div>
    <div class="card">
        <div class="card-body login-card-body">
            <p class="login-box-msg">Entre com suas credenciais</p>
            {% if error %}
            <div class="alert alert-danger">{{ error }}</div>
            {% endif %}
            <form method="post" action="/login">
                <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
                <div class="input-group mb-3">
                    <input type="email" class="form-control" name="email" placeholder="Email" value="{{ email|default('admin@example.com') }}" required autofocus>
                    <div class="input-group-text"><span class="bi bi-envelope"></span></div>
                </div>
                <div class="input-group mb-3">
                    <input type="password" class="form-control" name="password" placeholder="Senha" required>
                    <div class="input-group-text"><span class="bi bi-lock-fill"></span></div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary">Entrar</button>
                        </div>
                    </div>
                </div>
            </form>
            <p class="text-muted small mt-3 mb-0">
                Credenciais de demonstração:<br>
                <span class="text-body">Login:</span> <code>admin@example.com</code><br>
                <span class="text-body">Senha:</span> <span id="demo-password-mask" aria-live="polite">••••••••</span>
                <button type="button" class="btn btn-link btn-sm p-0 ms-1 align-baseline" id="demo-password-toggle" data-password="admin123">Mostrar</button>
            </p>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
(function () {
    var btn = document.getElementById('demo-password-toggle');
    var mask = document.getElementById('demo-password-mask');
    if (!btn || !mask) return;
    btn.addEventListener('click', function () {
        var pwd = btn.getAttribute('data-password');
        if (btn.textContent === 'Mostrar') {
            mask.textContent = pwd;
            btn.textContent = 'Ocultar';
        } else {
            mask.textContent = '••••••••';
            btn.textContent = 'Mostrar';
        }
    });
})();
</script>
{% endblock %}
